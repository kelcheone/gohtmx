<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Movies</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/htmx.org@1.9.2"></script>
    <script src="https://unpkg.com/hyperscript.org@0.9.11"></script>
  </head>
  <body class="container">
    <h1>Movies</h1>
    <div class="row mt-4 g-4">
    <div class="movies row mt-4 g-4">
      <div class="col-4">
        <h2 class="mb-4">Commedy Movies</h2>

        <ul class="list-group fs-5 me-5" id="comedy-list" data-genre="comedy">
          {{ range .comedy }}
          {{block "comedy-list-element" .}}
          <li class="list-group-item bg-primary text-white">
            {{ .Title }} - {{ .Director }}
          </li>
          {{end}}
          {{ end }}
        </ul>
      </div>

      <!-- <div class="col-4">
        <h2 class="mb-4">Drama Movies</h2>

        <ul class="list-group fs-5 me-5" id="drama-list" data-genre="drama">
          {{ range .drama }}
          {{block "drama-list-element" .}}
          <li class="list-group-item bg-primary text-white">
            {{ .Title }} - {{ .Director }}
          </li>
          {{ end }}
          {{ end }}
        </ul>
      </div>
      <div class="col-4">
        <h2 class="mb-4">Thriller Movies</h2>

        <ul class="list-group fs-5 me-5" id="thriller-list" data-genre="thriller">
          {{ range .thriller }}
          {{block "thriller-list-element" .}}
          <li class="list-group-item bg-primary text-white">
            {{ .Title }} - {{ .Director }}
          </li>
          {{ end }}
          {{ end }}
        </ul>
      </div> -->
    </div>
      <!-- a form to add new films -->
      <!-- use hypescript to switch btw the targets -->
      <div class="col-12">
        
        <form class="row g-3" id="add-film-form"
              hx-post="/add-film/" 
              hx-target="#comedy-list,#drama-list,#thriller-list"
              hx-swap="beforeend"
              hx-indicator="#spinner"
              
              >
          <div class="col-md-6">
            <label for="title" class="form-label">Title</label>
            <input
              type="text"
              class="form-control"
              id="title"
              name="title"
              required
            />
          </div>
          <div class="col-md-6">
            <label for="director" class="form-label">Director</label>
            <input
              type="text"
              class="form-control"
              id="director"
              name="director"
              required
            />
          </div>
          <!-- <div class="col-12">
            <label for="genre" class="form-label">Genre</label>
            <select class="form-select" id="genre" name="genre" required>
              <option selected disabled value="">Choose...</option>
              <option value="comedy">Comedy</option>
              <option value="drama">Drama</option>
              <option value="thriller">Thriller</option>
            </select>
          </div> -->
          <div class="col-12">
            <button type="submit" class="btn btn-primary ">
              <span class="spinner-border spinner-border-sm htmx-indicator" id="spinner" role="status" aria-hidden="true"></span>
              
              Add Film</button>
          </div>
        </form>
      </div>
      
  </body>
</html>
